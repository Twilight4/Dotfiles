source=~/.config/hypr/configs/prefs.conf

###########################################################################################
# SUPER + ... KEYS (free keys: R, B, G, Semicolon, Space)
###########################################################################################
###### WM Specific keys ######
bind = SUPER, Q, killactive
bind = SUPER SHIFT, Q, exec, hyprctl kill                           # Kill window using mouse cursor
bind = SUPER SHIFT, A, togglefloating
bind = SUPER SHIFT, S, centerwindow
bind = SUPER, Slash, pin, active
bind = SUPER, F, fullscreen
bind = SUPER, period, togglespecialworkspace, work
bind = SUPER, comma, togglespecialworkspace, scratchpad

###### Quick session managing ######
bind = SUPER CTRL SHIFT, Q, exec, exit                              # Exit the hyprland session
bind = SUPER CTRL SHIFT, Delete, exec, systemctl poweroff           # Shutdown
bind = SUPER, Y, exec, ~/.config/hypr/scripts/lock                  # Lock screen
bind = SUPER SHIFT, Y, exec, lock-suspend                           # Lock and suspend

###### Master layout ######
bind = SUPER CTRL, I, layoutmsg, orientationprev
bind = SUPER CTRL, O, layoutmsg, orientationnext
bind = SUPER, S, layoutmsg, addmaster
bind = SUPER, A, layoutmsg, removemaster

###### Dwindle layout ######
#bind = SUPER, G, togglegroup,
#bind = SUPER, C, changegroupactive,
#bind = SUPER, D, togglesplit,

###### EWW keys ######
bindr = SUPER, SUPER_L, exec, ~/.config/eww/scripts/toggle-overview.sh --keypress &     # Toggle overwiew
bind = SUPER, D, exec, ~/.config/eww/scripts/toggle-dash.sh --keypress &                # Toggle dash
bind = SUPER, Tab, exec, ~/.config/eww/scripts/toggle-compactmode.sh                    # Toggle compact mode
#bind = SUPER, B, exec, ~/.config/eww/scripts/toggle-osettings.sh --keypress &           # Toggle settings
#bind = SUPER, Space, exec, ~/.config/eww/scripts/toggle-bottombar.sh &                  # Toggle bottombar
#bind = SUPER, Semicolon, exec, ~/.config/eww/scripts/toggle-onotify.sh --keypress &     # Toggle notifications
#bind = SUPER CTRL, T, exec, ~/.config/eww/scripts/toggle-themer.sh &                    # Toggle themer
#bind = SUPER, G, exec, ~/.config/eww/scripts/toggle-wingamebar.sh &                     # Toggle wingamebar
#bind = SUPER SHIFT, G, exec, ~/.config/eww/scripts/toggle-winmode.sh                    # Toggle win mode
#bind = SUPER SHIFT, R, exec, toggle-eww                                                 # Toggle eww
# Refresh window title
#bind = SUPER, H, exec, eww update rev_center_ws=false
#bind = SUPER, L, exec, eww update rev_center_ws=false
#bind = SUPER, K, exec, eww update rev_center_ws=false
#bind = SUPER, J, exec, eww update rev_center_ws=false
#bind = ALT, Tab, exec, eww update rev_center_ws=false
# Refresh window module
#bind = SUPER, I, exec, eww update rev_center_ws=true
#bind = SUPER, O, exec, eww update rev_center_ws=true
#bind = SUPER, W, exec, eww update rev_center_ws=true
#bind = SUPER, E, exec, eww update rev_center_ws=true
#bind = SUPER, Tab, exec, eww update rev_center_ws=true
#bind = SUPER SHIFT, mouse_down, exec, eww update rev_center_ws=true
#bind = SUPER SHIFT, mouse_up, exec, eww update rev_center_ws=true

###### Wofi Menu keys ######
bind = SUPER, P, exec, pkill wlogout || wlogout                           # Session manager
bind = SUPER, U, exec, pkill wofi || wofi-beats.sh                        # Rofi radio
bind = SUPER, C, exec, pkill wofi || wofi-clipboard.sh                    # Clipboard menu
bind = SUPER SHIFT, Semicolon, exec, pkill wofi || wofi-emoji.sh          # Emoji menu

###### Deprecated - Rofi Menu keys ######
#bind = SUPER, R, exec, launcher.sh                                        # Launcher menu
#bind = SUPER, C, exec, clipboard.sh                                       # Clipboard menu
#bind = SUPER, Space, exec, apps.sh                                        # Apps menu
#bind = SUPER, semicolon, exec, quicklinks.sh                              # Quicklinks menu
#bind = SUPER, slash, exec, quicklinks-hack.sh                             # Second quicklinks menu
#bind = SUPER, Print, exec, screenshot.sh                                  # Rofi screenshot menu
#bind = SUPER SHIFT, B, exec, capture.sh                                   # Capture menu
#bind = SUPER SHIFT, P, exec, passman.sh                                   # Password menu   (window width/height config is in launcher/style.rasi)
#bind = SUPER SHIFT, N, exec, wifi.sh                                      # Network/wifi menu
#bind = SUPER, P, exec, powermenu.sh                                       # Power menu
#bind = SUPER, bracketleft, exec, volume.sh                                # Volume menu
#bind = SUPER, slash, exec, mpd.sh                                         # Mpd menu
#bind = SUPER, backslash, exec, battery.sh                                 # Battery menu
#bind = SUPER, rightbracket, exec, brightness.sh                           # Brightness menu

###### App keys ######
bind = SUPER, Return, exec, $term                                                                                                # Terminal (Kitty)
bind = SUPER, W, exec, pgrep '$browser' && hyprctl dispatch focuswindow '^$browser$' || $browser                                 # Web browser (Waterfox)
#bind = SUPER, E, exec, pgrep 'emacs' && hyprctl dispatch focuswindow '^emacs$' || hyprctl dispatch exec '$editor'               # Editor (Emacs)
bind = SUPER, N, exec, pgrep 'newsboat' && hyprctl dispatch focuswindow '^newsboat$' || hyprctl dispatch exec '$news'            # News (Newsboat)

###### Tools on special workspace ######
bind = SUPER SHIFT, Return, exec, $special_term -T casual-term -a casual-term         # Foot
bind = SUPER, T, exec, athena-welcome                                                 # Athena welcome
bind = SUPER, V, exec, hacking-variables                                              # Payload list
bind = SUPER, X, exec, role-viewer                                                    # Tools list 

###### Fun Commands: musikcube, btop, cava, tty-clock, cmatrix, neofetch, pipes, mpv, waifu #####
bind = SUPER SHIFT, escape, exec, '$special_term -a btop -e btop'                                                                                                                         # Btop
bind = SUPER CTRL, N, exec, pgrep 'musikcube' && hyprctl dispatch focuswindow '^musikcube$' || hyprctl dispatch exec '$special_term -a musikcube -e musikcube'                            # Music
bind = SUPER CTRL, C, exec, pgrep 'cava' && hyprctl dispatch focuswindow '^cava$' || hyprctl dispatch exec '$special_term -a cava -e cava'                                                # Cava
bind = SUPER CTRL, U, exec, pgrep 'clock' && hyprctl dispatch focuswindow '^clock$' || hyprctl dispatch exec '$special_term -a clock -e tty-clock -c -C 6 -r -s -f "%A, %B, %d"'          # Clock
bind = SUPER CTRL, P, exec, pgrep 'pipes' && hyprctl dispatch focuswindow '^pipes$' || hyprctl dispatch exec '$special_term -a pipes -e ~/.config/zsh/bash-scripts/pipes.sh'              # Pipes
bind = SUPER CTRL, M, exec, pgrep 'cmatrix' && hyprctl dispatch focuswindow '^cmatrix$' || hyprctl dispatch exec '$special_term -a cmatrix -e cmatrix -a'                                 # Matrix
bind = SUPER CTRL, F, exec, pgrep 'neofetch' && hyprctl dispatch focuswindow '^neofetch$' || hyprctl dispatch exec '$term --hold --class neofetch -e neofetch -a --kitty /home/twilight/pictures/patrick-bateman-pfp.jpg'                                 # Matrix
#bind = SUPER CTRL, V, exec, pgrep 'kitty-waifu' && hyprctl dispatch focuswindow '^kitty-waifu$' || hyprctl dispatch exec '$term --class kitty-waifu -T kitty-waifu -e nnn -Ra ~/.config/eww/eww_covers'   # Run waifu window (C-M-V for daemon)
#bind = SUPER CTRL, A, exec, pgrep 'asciiquarium' && hyprctl dispatch focuswindow '^asciiquarium$' || hyprctl dispatch exec '$special_term -a asciiquarium -e asciiquarium --transparent'  # Asciiquarium
#bind = SUPER CTRL, F, exec, pgrep 'fireplace' && hyprctl dispatch focuswindow '^fireplace$' || hyprctl dispatch exec '$special_term -a fireplace -e cli-fireplace'                        # Fireplace
#bind = SUPER CTRL, W, exec, pgrep 'mpvpaper' && hyprctl dispatch focuswindow '^mpvpaper$' || hyprctl dispatch exec '$special_term -a mpvpaper -e mpvpaper -p -o "no-audio --loop-playlist shuffle" eDP-1 /usr/share/sddm/themes/aerial/playlists/'              # Random wall vid
#bind = SUPER CTRL, Z, exec, pgrep 'mpvpaper' && hyprctl dispatch focuswindow '^mpvpaper$' || hyprctl dispatch exec '$special_term -a mpvpaper -e mpvpaper -p -o "no-audio --loop-playlist shuffle" eDP-1 /usr/share/sddm/themes/aerial/playlists/undersea.m3u'  # Ocean wall vid


#############################################################################################
# SUPER + SHIFT + ... KEYS                                                                  #
#############################################################################################
###### More app keys ######
bind = SUPER SHIFT, V, exec, pgrep 'pavucontrol' && hyprctl dispatch focuswindow '^pavucontrol$' || hyprctl dispatch exec 'pavucontrol'
bind = SUPER SHIFT, Z, exec, pgrep 'ffplay' && hyprctl dispatch focuswindow '^ffplay$' || hyprctl dispatch exec 'webcam'

###### Updates ######
#bind = SUPER CTRL SHIFT C, exec, notify-send -u low -t 4000 "Updating cheatsheets..." && $special_term --title update -a update -e ~/.config/hypr/scripts/cheatsheets push
#bind = SUPER CTRL SHIFT, T, exec, notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/mirror.png" "Updating mirrors..." && $special_term --title reflector -a reflector -e /bin/sh -c 'sudo reflector --score 100 --fastest 10 --number 10 --verbose --save /etc/pacman.d/mirrorlist ; echo Done - Press enter to exit; read _"'
#bind = SUPER CTRL SHIFT, Y, exec, notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/keyring.png" "Refreshing keyrings..." && $special_term --title keys -a keys -e bash ~/.config/hypr/scripts/fix-keys
bind = SUPER CTRL SHIFT, U, exec, notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/update.png" "Updating system..." && $special_term --title pacman -a pacman -e /bin/sh -c 'sudo pacman --noconfirm -Syu ; echo Done - Press enter to exit; read _"'

####### Screenshot ######
# Screenshot
bind = , Print, exec, grim -g "$(slurp -b 1B1F28CC -c E06B74ff -s C778DD0D -w 2)" - | wl-copy
bind = SHIFT, Print, exec, grim -g "$(slurp -b 1B1F28CC -c E06B74ff -s C778DD0D -w 2)" - | swappy -f -
# Screenshot Window
bind = SUPER, Print, exec, grim -g "$w_pos $w_size" - | wl-copy
bind = SUPER SHIFT, Print, exec, grim -g "$w_pos $w_size" - | swappy -f -
# Screenshot Full Screen
bind = CTRL, Print, exec, grim - | wl-copy
bind = CTRL SHIFT, Print, exec, grim - | swappy -f -

####### Color Picker #######
bind = SUPER SHIFT, X, exec, hyprpicker -a && notify-send --icon ~/.config/mako/icons/dropper.png -t 4000 "$(wl-paste)"

####### Caffeine #######
bind = SUPER SHIFT, C, exec, ~/.config/hypr/scripts/caffeine


###########################################################################################
# SUPER + ALT + ... KEYS                                                                  #
###########################################################################################
###### Night light mode ######
bind = SUPER ALT, bracketright, exec, hyprctl keyword decoration:screen_shader ~/.config/hypr/scripts/extradark.frag && notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/night-mode.png" "Night mode: On"
bind = SUPER ALT, bracketleft, exec, hyprctl keyword decoration:screen_shader ~/.config/hypr/scripts/flux.glsl && notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/night-mode.png" "Night mode: On"
bind = SUPER ALT, backslash, exec, hyprctl keyword decoration:screen_shader "[[EMPTY]]" && notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/night-mode.png" "Night mode: Off"

####### Screen record #######
#bind = SUPER ALT, R, exec, ~/.config/hypr/scripts/record-screen
bind = SUPER ALT, R, exec, ~/.config/hypr/scripts/record-script
bind = SUPER SHIFT ALT, R, exec, ~/.config/hypr/scripts/record-script --sound
bind = SUPER CTRL ALT, R, exec, ~/.config/hypr/scripts/record-script-fullscreen

####### Swaybg #######
bind = SUPER ALT, B, exec, ~/.config/hypr/scripts/wallpaper
bind = SUPER SHIFT ALT, B, exec, ~/.config/hypr/scripts/pkill-wallpaper-changer

####### Glassy blur #######
bind = SUPER ALT, G, exec, ~/.config/hypr/scripts/glassmorphismToggle

####### Waybar toggle #######
bind = SUPER ALT, W, exec, ~/.config/hypr/scripts/waybar-toggle

####### VPN #######
bind = SUPER ALT, V, exec, ~/.config/hypr/scripts/vpn

####### Custom Function keys #######
bind = SUPER ALT, M, exec, ~/.config/hypr/scripts/volume --toggle-mic            # There is no function key for toggling mic

####### Gamemode #######
#bind = SUPER, F1, exec, ~/.config/hypr/scripts/gamemode

###### System commands ######
bind = CTRL ALT, W, exec, ~/.config/hypr/scripts/cp-wlan
bind = CTRL ALT, T, exec, ~/.config/hypr/scripts/cp-tun
#bind = CTRL ALT, V, exec, $term --class waifu-daemon -e waifu                    # Run waifu daemon


###########################################################################################
# FUNCTION KEYS                                                                           #
###########################################################################################
bind = , XF86Calculator, exec, pgrep 'gnome-calculator' && hyprctl dispatch focuswindow '^org.gnome.Calculator$' || hyprctl dispatch exec 'gnome-calculator'

###### Volume ######
#bindl = , XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
#bindle = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
#bindle = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
#bindle = , XF86AudioRaiseVolume, exec, ~/.config/eww/scripts/volume osd &
#bindle = , XF86AudioLowerVolume, exec, ~/.config/eww/scripts/volume osd &
#bindl = , XF86AudioMute, exec, ~/.config/eww/scripts/volume osd &
bindle = , XF86audioraisevolume, exec, ~/.config/hypr/scripts/volume --inc
bindle = , XF86audiolowervolume, exec, ~/.config/hypr/scripts/volume --dec
bindl = , XF86audiomute, exec, ~/.config/hypr/scripts/volume --toggle

###### Brightness ######
#bindle = , XF86MonBrightnessUp, exec, light -A 3 && ~/.config/eww/scripts/brightness osd &
#bindle = , XF86MonBrightnessDown, exec, light -U 3 && ~/.config/eww/scripts/brightness osd &
bindle = , XF86monbrightnessup, exec, ~/.config/hypr/scripts/brightness --inc
bindle = , XF86monbrightnessdown, exec, ~/.config/hypr/scripts/brightness --dec

###### Audio ######
bindl = , XF86AudioMedia, exec, playerctl play-pause && notify-send -u low -t 1500 "Pause-Play"
bindl = , XF86AudioPlay, exec, playerctl play-pause && notify-send -u low -t 1500 "Pause-Play"
bindl = , XF86AudioPrev, exec, playerctl previous && notify-send -u low -t 1500 "Previous"
bindl = , XF86AudioNext, exec, playerctl next && notify-send -u low -t 1500 "Next"


###########################################################################################
# WINDOW MANAGER OPERATION KEYS                                                           #
###########################################################################################
####### Swap workspaces between monitors #######
bind = SUPER SHIFT CTRL, comma, exec, hyprctl dispatch swapactiveworkspaces 1 0
bind = SUPER SHIFT CTRL, period, exec, hyprctl dispatch swapactiveworkspaces 0 1

####### Move focus #######
bind = SUPER, H, movefocus, l
bind = SUPER, L, movefocus, r
bind = SUPER, K, movefocus, u
bind = SUPER, J, movefocus, d
# Change focus to another window and bring it to to the top (floating windows)
bind = ALT, Tab, cyclenext
bind = ALT, Tab, bringactivetotop

####### Resize window #######
binde = SUPER ALT, H, resizeactive, -40 0
binde = SUPER ALT, J, resizeactive, 0 40
binde = SUPER ALT, K, resizeactive, 0 -40
binde = SUPER ALT, L, resizeactive, 40 0
bind = SUPER ALT, U, resizeactive, exact 640 480

####### Window split ratio #######
bind = SUPER CTRL, H, splitratio, +0.1
bind = SUPER CTRL, L, splitratio, -0.1
bind = SUPER CTRL, R, splitratio, exact 0.5

####### Move window #######
bind = SUPER SHIFT, H, movewindow, l
bind = SUPER SHIFT, J, movewindow, d
bind = SUPER SHIFT, K, movewindow, u
bind = SUPER SHIFT, L, movewindow, r
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

####### Go back to previous workspace #######
bind = SUPER SHIFT, Tab, workspace, previous

####### Switch workspaces #######
#bind = SUPER, 1, workspace, 1
#bind = SUPER, 2, workspace, 2
#bind = SUPER, 3, workspace, 3
#bind = SUPER, 4, workspace, 4
#bind = SUPER, 5, workspace, 5
#bind = SUPER, 6, workspace, 6
####### Substituted keys #######
bind = SUPER, I, workspace, 1
bind = SUPER, O, workspace, 3
bind = SUPER, M, workspace, 5

####### Move window to a workspace #######
#bind = SUPER SHIFT, 1, movetoworkspace, 1
#bind = SUPER SHIFT, 2, movetoworkspace, 2
#bind = SUPER SHIFT, 3, movetoworkspace, 3
#bind = SUPER SHIFT, 4, movetoworkspace, 4
#bind = SUPER SHIFT, 5, movetoworkspace, 5
#bind = SUPER SHIFT, 6, movetoworkspace, 6
####### Substituted keys #######
bind = SUPER SHIFT, I, movetoworkspace, 1
bind = SUPER SHIFT, W, movetoworkspace, 2
bind = SUPER SHIFT, O, movetoworkspace, 3
bind = SUPER SHIFT, E, movetoworkspace, 4
bind = SUPER SHIFT, M, movetoworkspace, 5
bind = SUPER SHIFT, N, movetoworkspace, 6

####### Move window to special workspace #######
bind = SUPER SHIFT, period, movetoworkspace, special:work
bind = SUPER SHIFT, comma, movetoworkspace, special:scratchpad
bind = SUPER ALT, period, movetoworkspacesilent, special:work
bind = SUPER ALT, comma, movetoworkspacesilent, special:scratchpad

####### Silently move window to a workspace #######
#bind = SUPER ALT, 1, movetoworkspacesilent, 1
#bind = SUPER ALT, 2, movetoworkspacesilent, 2
#bind = SUPER ALT, 3, movetoworkspacesilent, 3
#bind = SUPER ALT, 4, movetoworkspacesilent, 4
#bind = SUPER ALT, 5, movetoworkspacesilent, 5
#bind = SUPER ALT, 6, movetoworkspacesilent, 6
####### Substituted keys #######
bind = SUPER ALT, I, movetoworkspacesilent, 1
bind = SUPER ALT, W, movetoworkspacesilent, 2
bind = SUPER ALT, O, movetoworkspacesilent, 3
bind = SUPER ALT, E, movetoworkspacesilent, 4
bind = SUPER ALT, M, movetoworkspacesilent, 5
bind = SUPER ALT, N, movetoworkspacesilent, 6
