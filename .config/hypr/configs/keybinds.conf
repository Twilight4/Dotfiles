source=~/.config/hypr/configs/prefs.conf

###########################################################################################
# SUPER + ... KEYS - No more available keys                                               #
###########################################################################################
###### WM Specific keys ######
bind = SUPER, Q, killactive,
bind = SUPER SHIFT, Q, exit,
bind = SUPER SHIFT, A, togglefloating,
bind = SUPER, F, fullscreen,
bind = SUPER, period, togglespecialworkspace, work
bind = SUPER, comma, togglespecialworkspace, scratchpad
bind = SUPER, Y, exec, ~/.config/hypr/scripts/lock

###### master layout ######
bind = SUPER SHIFT, I, layoutmsg, orientationprev
bind = SUPER SHIFT, O, layoutmsg, orientationnext
bind = SUPER, D, layoutmsg, focusmaster
bind = SUPER SHIFT, D, layoutmsg, swapwithmaster
bind = SUPER, S, layoutmsg, addmaster
bind = SUPER, A, layoutmsg, removemaster

###### dwindle layout ######
#bind = SUPER, G, togglegroup,
#bind = SUPER, C, changegroupactive,
#bind = SUPER, D, togglesplit,

###### Rofi Menu keys ######
bind = SUPER, R, exec, launcher.sh                  # launcher menu
bind = SUPER, Space, exec, apps.sh                  # apps menu
bind = SUPER, P, exec, archlinux-logout             # session manager
bind = SUPER, semicolon, exec, quicklinks.sh        # quicklinks menu
bind = SUPER, slash, exec, quicklinks-hack.sh       # second quicklinks menu
bind = SUPER, Print, exec, screenshot.sh            # rofi screenshot menu
bind = SUPER, U, exec, $rofi-beats                  # rofi radio
bind = SUPER, C, exec, clipboard.sh                 # clipboard menu  - (if window is too big you can change in width/height in launcher/style.rasi)
bind = SUPER SHIFT, P, exec, passman.sh             # password menu   - (if window is too big you can change in width/height in launcher/style.rasi)
bind = SUPER SHIFT, N, exec, wifi                   # network/wifi menu
bind = SUPER SHIFT, R, exec, capture-menu.sh        # capture menu
#bind = SUPER, P, exec, powermenu.sh                 # power menu      - using archlinux-logout instead
#bind = SUPER, leftbracket, exec, volume.sh          # volume menu     - in case function keys wouldn't work
#bind = SUPER, slash, exec, mpd.sh                   # mpd menu        - in case function keys wouldn't work
#bind = SUPER, backslash, exec, battery.sh           # battery menu    - uncomment if on laptop
#bind = SUPER, rightbracket, exec, brightness.sh     # brightness menu - only if on laptop (better function keys)

###### App keys ######
bind = SUPER, Return, exec, $term                                                                                                                         # foot
bind = SUPER, B, exec, [workspace 2] pgrep $browser && hyprctl dispatch focuswindow '^LibreWolf$' || librewolf                                            # librewolf
bind = SUPER, N, exec, pgrep 'ncmpcpp' && hyprctl dispatch focuswindow '^ncmpcpp$' || hyprctl dispatch exec '[workspace 5] $music'                        # music
#bind = SUPER, E, exec, pgrep -f $editor1 && hyprctl dispatch focuswindow '^Emacs$' || hyprctl dispatch exec '[workspace 4] $editor1'                      # emacs1
#####bind = SUPER, E, exec, [workspace 4] $editor                                                              # emacs????????? - test if my prefs work
#bind = SUPER, M, exec, [workspace 2] $mailer                                                                  # Mailspring/Thunder
#bind = SUPER, V, exec, [workspace 2] $chat                                                                    # discord
#bind = SUPER, X, exec, [workspace 2] $passwordmanager                                                         # keepassxc
#bind = SUPER, Q, exec, [workspace 3] qemu                                                                     # QEMU hypervizors

###### Apps on special workspace ######
bind = SUPER SHIFT, Return, exec, [workspace special:scratchpad] $special_term                                              # terminal
bind = SUPER, T, exec, [workspace special:work] $special_term --title bashtop -e btop                                       # btop
bind = SUPER, G, exec, [workspace special:work] anki                                                                        # anki
#bind = SUPER, W, exec, [workspace special:work] $editor2                                                                    # emacs2
#bind = SUPER, Z, exec, [workspace special:work] $calendar                                                                   # calendar
#bind = SUPER, Z, exec, [workspace special:work] $special_term --title payloads -e ~/.config/pwnage/bin/hacking-variables    # payload list

###### Fun Commands #####
bind = SUPER CTRL, C, exec, pgrep 'cava' && hyprctl dispatch focuswindow '^cava$' || hyprctl dispatch exec '[workspace 5] $special_term --class cava -e cava'                                           # cava
bind = SUPER CTRL, U, exec, pgrep 'clock' && hyprctl dispatch focuswindow '^clock$' || hyprctl dispatch exec '[workspace 5] $special_term --class clock -e tty-clock -c -C 6 -r -s -f "%A, %B, %d"'     # clock
bind = SUPER CTRL, T, exec, pgrep 'train' && hyprctl dispatch focuswindow '^train$' || hyprctl dispatch exec '[workspace 5] $special_term --class train -e sl'                                          # train
bind = SUPER CTRL, P, exec, pgrep 'pipes' && hyprctl dispatch focuswindow '^pipes$' || hyprctl dispatch exec '[workspace 5] $special_term --class pipes -e ~/.config/zsh/bash-scripts/pipes.sh'         # pipes
bind = SUPER CTRL, M, exec, pgrep 'cmatrix' && hyprctl dispatch focuswindow '^cmatrix$' || hyprctl dispatch exec '[workspace 5] $special_term --class cmatrix -e cmatrix'                               # matrix


#############################################################################################
# SUPER + SHIFT + ... KEYS                                                                  #
#############################################################################################
###### More app keys ######
bind = SUPER SHIFT, B, exec, [workspace 2] $minbrowser                      # qutebrowser
bind = SUPER SHIFT, V, exec, pavucontrol                                    # pavucontrol

###### Silent updates ######
bind = SUPER SHIFT, T, exec, [workspace special:scratchpad silent] notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/mirror.png" "Updating mirrors..." && $special_term --title reflector -e sudo reflector -f 30 -l 30 --number 10 --verbose --save /etc/pacman.d/mirrorlist    # mirrors update
bind = SUPER SHIFT, Y, exec, [workspace special:scratchpad silent] notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/update.png" "Updating system..." && $special_term --title yay -e yay --noconfirm -Syu                               # yay update
bind = SUPER SHIFT, U, exec, [workspace special:scratchpad silent] notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/keyring.png" "Refreshing keyrings..." && $special_term --title yay -e bash ~/.config/hypr/scripts/fix-keys          # fix keyrings

####### Screenshot and edit ######
bind = , Print, exec, grim -g "$(slurp -b 1B1F28CC -c E06B74ff -s C778DD0D -w 2)" - | swappy -f -
bind = SUPER SHIFT, S, exec, grim -g "$w_pos $w_size" - | swappy -f -
bind = SUPER CTRL, S, exec, grim - | swappy -f -

####### Color Picker #######
bind = SUPER SHIFT, X, exec, hyprpicker -a && notify-send --icon ~/.config/mako/icons/dropper.png -t 4000 "$(wl-paste)"


###########################################################################################
# ALT + ... KEYS                                                                          #
###########################################################################################
###### Night mode (blue filter) ######
bind = ALT, period, exec, hyprctl keyword decoration:screen_shader ~/.config/hypr/scripts/flux.glsl && notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/night-mode.png" "Night mode: On"
bind = ALT, comma, exec, hyprctl keyword decoration:screen_shader "[[EMPTY]]" && notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/night-mode.png" "Night mode: Off"

####### Screen record #######
bind = ALT, S, exec, ~/.config/hypr/scripts/record-screen

####### Swaybg #######
bind = ALT, N, exec, ~/.config/hypr/scripts/wallpaper

####### Glassy blur #######
bind = ALT, G, exec, ~/.config/hypr/scripts/glassmorphismToggle

####### VPN #######
#bind = ALT, V, exec, ~/.config/.local/bin/mmuvpn restart && notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/vpn.png" "VPN is active"
#bind = ALT, B, exec, ~/.config/.local/bin/mmuvpn down && notify-send -u low -t 4000 -i "$HOME/.config/mako/icons/vpn.png" "VPN is down"

####### Caffeine #######
bind = ALT, C, exec, ~/.config/hypr/scripts/caffeine

####### Variety doesn't work :( #######
#bind = ALT, T, exec, variety -t             # trash wallpaper
#bind = ALT, N, exec, variety -n             # next wallpaper
#bind = ALT, B, exec, variety -p             # backwards wallpaper
#bind = ALT, F, exec, variety -f             # favorite wallpaper
#bind = ALT, S, exec, variety --pause        # pause/stop wallpaper
#bind = ALT, R, exec, variety --resume       # resume wallpaper

############ Custom Function keys ############
bindl = ALT, M, exec, ~/.config/hypr/scripts/volume --toggle-mic            # there's no function key for toggling mic anyways

### playerctl doesn't integrate with ncmpcpp for some reason so I'm using mpc instead
bindl = ALT, U, exec, mpc -q stop && notify-send -u low -i "$HOME/.config/mako/icons/music.png" -t 1500 "`mpc current`"
bindl = ALT, I, exec, mpc -q prev && notify-send -u low -i "$HOME/.config/mako/icons/music.png" -t 1500 "`mpc current`" 
bindl = ALT, O, exec, mpc -q next && notify-send -u low -i "$HOME/.config/mako/icons/music.png" -t 1500 "`mpc current`" 
bindl = ALT, P, exec, mpc -q toggle && notify-send -u low -i "$HOME/.config/mako/icons/music.png" -t 1500 "`mpc current`"
bindl = ALT, R, exec, mpc -q repeat && notify-send -u low -t 1500
bindl = ALT, Z, exec, mpc -q random && notify-send -u low -t 1500

####### playerctl #######
#bindl = ALT, U, exec, playerctl stop && notify-send -u low -t 1500 "Stop"
#bindl = ALT, I, exec, playerctl previous && notify-send -u low -t 1500 "Previous"
#bindl = ALT, O, exec, playerctl next && notify-send -u low -t 1500 "Next"
#bindl = ALT, P, exec, playerctl play-pause && notify-send -u low -t 1500 "Pause-Play"


###########################################################################################
# FUNCTION KEYS                                                                           #
###########################################################################################
bind =, XF86Calculator, exec, QT_QPA_PLATFORMTHEME=qt5ct kcalc
bindle =, xf86audioraisevolume, exec, ~/.config/hypr/scripts/volume --inc
bindle =, xf86audiolowervolume, exec, ~/.config/hypr/scripts/volume --dec
bindl =, xf86audiomute, exec, ~/.config/hypr/scripts/volume --toggle
bindle =, xf86monbrightnessup, exec, ~/.config/hypr/scripts/brightness --inc
bindle =, xf86monbrightnessdown, exec, ~/.config/hypr/scripts/brightness --dec
bindl =, XF86AudioMedia, exec, playerctl play-pause
bindl =, XF86AudioPlay, exec, playerctl play-pause
bindl =, XF86AudioStop, exec, playerctl stop
bindl =, XF86AudioPrev, exec, playerctl previous
bindl =, XF86AudioNext, exec, playerctl next


###########################################################################################
# WINDOS MANAGER OPERATION KEYS                                                           #
###########################################################################################
####### Move focus #######
bind = SUPER, h, movefocus, l
bind = SUPER, l, movefocus, r
bind = SUPER, k, movefocus, u
bind = SUPER, j, movefocus, d

####### Resize window #######
binde = SUPER ALT, h, resizeactive, -40 0
binde = SUPER ALT, j, resizeactive, 0 40
binde = SUPER ALT, k, resizeactive, 0 -40
binde = SUPER ALT, l, resizeactive, 40 0
bind = SUPER CTRL, h, splitratio, +0.1
bind = SUPER CTRL, l, splitratio, -0.1
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

####### Move window #######
bind = SUPER SHIFT, h, movewindow, l
bind = SUPER SHIFT, j, movewindow, d
bind = SUPER SHIFT, k, movewindow, u
bind = SUPER SHIFT, l, movewindow, r

####### Switch through existing workspaces #######
bind = SUPER, I, workspace, e-1
bind = SUPER, O, workspace, e+1

####### Switch workspaces #######
bind = SUPER CTRL, I, workspace, -1
bind = SUPER CTRL, O, workspace, +1

####### Go back to previous workspace #######
bind = SUPER, Tab, workspace, previous

####### Switch workspaces #######
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5

####### Move window to a workspace #######
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5

####### Move window to special workspace #######
bind = SUPER SHIFT, period, movetoworkspace, special:work
bind = SUPER SHIFT, comma, movetoworkspace, special:scratchpad

####### Silently move window to a workspace #######
bind = SUPER ALT, 1, movetoworkspacesilent, 1
bind = SUPER ALT, 2, movetoworkspacesilent, 2
bind = SUPER ALT, 3, movetoworkspacesilent, 3
bind = SUPER ALT, 4, movetoworkspacesilent, 4
bind = SUPER ALT, 5, movetoworkspacesilent, 5
