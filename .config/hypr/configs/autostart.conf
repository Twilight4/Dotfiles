#############
# Autostart #
#############

# Slow app launch fix
#exec-once = systemctl --user import-environment &
#exec-once = hash dbus-update-activation-environment 2>/dev/null &
#exec-once = dbus-update-activation-environment --systemd &

exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once=systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once=/usr/lib/polkit-kde-authentification-agent-1
exec-once=hyprctl setcursor Numix-Cursor-Light 24
exec-once=foot --server
exec-once=emacs --daemon
#exec-once=mako
exec-once=dunst
exec-once=udiskie
exec-once=swaybg -i ~/.config/eww/images/wallpaper/wallpaper
exec-once=udev-block-notify
exec-once=nm-applet --indicator
#exec-once=waybar
# the better waybar
exec-once = eww daemon && eww open bar && eww open bottomline   # && eww open dynamic-bg
exec-once = ~/.config/eww/scripts/get_open_icons &

# unsure
exec-once=bash -c "mkfifo /tmp/$HYPRLAND_INSTANCE_SIGNATURE.wob && tail -f /tmp/$HYPRLAND_INSTANCE_SIGNATURE.wob | wob & disown"
#exec-once=some-messenger-app

# Other
exec-once=wl-clip-persist --clipboard regular       # persistent clipboard
exec-once=wl-paste --watch cliphist store           # store in clipboard history (cliphist wipe to clear the database)

# Scripts
exec-once=~/.config/hypr/scripts/monitor-connect    # handle monitor connection
exec-once=~/.config/hypr/scripts/gtkthemes          # apply themes
exec-once=~/.config/hypr/scripts/autolaunch         # apps on workspaces
exec-once=~/.config/hypr/scripts/idle-handler       # screen locking when idle
exec-once=~/.config/hypr/scripts/battery-notif      # battery notification
exec-once=~/.config/hypr/scripts/launch-portals     # put it at the end
