#!/bin/bash

# Check if the script is run as root
if [ "$EUID" -ne 0 ]; then
	echo "Please run this script as root."
	exit 1
fi

# Prompt the user for a color hex value without a hashtag
read -p "Enter a color hex value (e.g., RRGGBB): " color_value

# Validate the input to ensure it is a valid hex color value
if [[ ! "$color_value" =~ ^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$ ]]; then
	echo "Invalid color hex value. Please enter a valid value (e.g., RRGGBB)."
	exit 1
fi

# Add a hashtag to the color value
color_value="$color_value"

# Write the color value to the specified file
echo "$color_value" >/sys/devices/platform/hp-wmi/rgb_zones/zone00
echo "$color_value" >/sys/devices/platform/hp-wmi/rgb_zones/zone01
echo "$color_value" >/sys/devices/platform/hp-wmi/rgb_zones/zone02
echo "$color_value" >/sys/devices/platform/hp-wmi/rgb_zones/zone03

echo "Color value set to $color_value successfully."
