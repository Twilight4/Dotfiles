#!/usr/bin/env zsh

# Emacs-like bindings
# Movement
bindkey '^B' backward-char
bindkey '^F' forward-char
bindkey '^A' beginning-of-line
bindkey '^E' end-of-line
bindkey '^[b' backward-word
bindkey '^[f' forward-word
bindkey '^P' up-line-or-history
bindkey '^N' down-line-or-history
# Killing and yanking
bindkey '^U' backward-kill-line
bindkey '^O' kill-line
bindkey '^D' delete-char-or-list    # (del) upgrade to cut to clipbaord when in selection mode
bindkey '^[d' kill-word
bindkey '^[w' backward-kill-word
bindkey '^?' backward-delete-char   # (backspace) upgrade to cut to clipbaord when in selection mode
bindkey '^H' backward-kill-word     # (C-backspace)
bindkey '^W' backward-delete-char   # (todo - backspace) upgrade to cut to clipbaord when in selection mode

#bindkey '^Y' yank    # remove and ugprade to paste from clipboard in terminal config

# Full keyboard keys
bindkey 'Home' beginning-of-line
bindkey 'End' end-of-line
bindkey '^[[1~' beginning-of-line
bindkey '^[[4~' end-of-line
bindkey '^[[1;5C' forward-word
bindkey '^[[1;5D' backward-word
bindkey '^[[A' up-line-or-history
bindkey '^[[B' down-line-or-history
bindkey '^[[5~' beginning-of-buffer-or-history
bindkey '^[[6~' end-of-buffer-or-history
bindkey '^[[3~' delete-char
bindkey '^[[Z' reverse-menu-complete
# EXPERIMENTAL - REMOVE VIM MODE AND ONLY ADD SELECTION-MODE
bindkey -M vicmd '^[.' insert-last-word  # M-.
bindkey -M vicmd '^[g' get-line          # M-g
bindkey -M vicmd '^Q' push-line          # C-q
bindkey '^Z' edit-command-line           # Open in emacs
bindkey -M visual '^[' '^[v'             # selection-mode
bindkey -M visual '^[x' '^[x'            # selection-mode

# Visual mode on C-SPC
function visual-mode {
    zle set-mark-command
    zle vi-match-bracket
}
zle -N visual-mode
bindkey '^ ' visual-mode

# Restore shell option 'aliases'
set -o aliases
